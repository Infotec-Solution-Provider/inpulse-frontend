(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2036],{9546:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,b:()=>n});var r=a(55170),l=a(90870);function n(e){return(0,l.Ay)("MuiListItemText",e)}let s=(0,r.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},19505:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(57515),l=a(95155);let n=(0,r.A)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},28890:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(57515),l=a(95155);let n=(0,r.A)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},40857:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(57515),l=a(95155);let n=(0,r.A)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},44324:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,K:()=>n});var r=a(55170),l=a(90870);function n(e){return(0,l.Ay)("MuiDivider",e)}let s=(0,r.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},44868:(e,t,a)=>{Promise.resolve().then(a.bind(a,71307))},63954:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(57515),l=a(95155);let n=(0,r.A)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},64569:(e,t,a)=>{"use strict";a.d(t,{pI:()=>c,Ay:()=>u,qw:()=>d});var r=a(95155),l=a(12115),n=a(54607),s=a(98892),i=a(42732),o=a(38543);let c=(0,l.createContext)({}),d=()=>(0,l.useContext)(c);function u(e){let{children:t}=e,a=(0,l.useRef)(new n.CustomersClient("http://localhost:8002")),{token:d}=(0,s.Z)(),[u,h]=(0,l.useReducer)(function e(t,a){let r={...t};switch(a.type){case"change-loading":return{...r,isLoading:a.isLoading};case"change-page":return r.filters.page=a.page.toString(),r;case"change-per-page":return r.filters.perPage=a.perPage.toString(),r;case"change-total-rows":return r.totalRows=a.totalRows,{...r,totalRows:a.totalRows};case"change-filters":return r.filters={page:t.filters.page,perPage:t.filters.perPage,...a.filters},r;case"load-customers":return r.customers=a.customers,r;case"update-customer":return{...r,customers:r.customers.map(e=>e.CODIGO===a.id?{...e,...a.data}:e)};case"add-customer":return r.customers.unshift(a.data),r;case"multiple":let l={...t};for(let t of a.actions)l=e(l,t);return l;default:return r}},{customers:[],totalRows:0,filters:{},isLoading:!1}),p=(0,l.useCallback)(async e=>{try{d&&(await a.current.createCustomer(e),o.oR.success("Cliente cadastrado com sucesso!"))}catch(e){i.Logger.error("Error creating customer",e),o.oR.error("Falha ao cadastrar cliente!")}finally{x()}},[d]),m=(0,l.useCallback)(async(e,t)=>{try{d&&(await a.current.updateCustomer(e,t),h({type:"update-customer",id:e,data:t}),o.oR.success("Cliente atualizado com sucesso!"))}catch(e){i.Logger.error("Error updating customer",e),o.oR.error("Falha ao atualizar cliente!")}},[d]),x=(0,l.useCallback)(async()=>{h({type:"change-loading",isLoading:!0});try{let e=await a.current.getCustomers(u.filters);h({type:"multiple",actions:[{type:"change-total-rows",totalRows:e.page.totalRows},{type:"change-loading",isLoading:!1},{type:"load-customers",customers:e.data}]})}catch(e){h({type:"change-loading",isLoading:!1}),i.Logger.error("Error loading customers",e),o.oR.error("Falha ao carregar clientes!")}},[]);return(0,l.useEffect)(()=>{d&&a.current&&(a.current.setAuth(d),x())},[d,a.current]),(0,r.jsx)(c.Provider,{value:{state:u,dispatch:h,updateCustomer:m,createCustomer:p,loadCustomers:x},children:t})}},71307:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(95155),l=a(28890),n=a(57515);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 13H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2m0-10H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ViewAgenda");var i=a(88872),o=a(3127);function c(e){let{customer:t,openEditModalHandler:a,openContactModalHandler:n}=e;return(0,r.jsxs)(i.oM,{children:[(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:(0,r.jsx)("p",{className:"w-14",children:t.CODIGO})}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:t.ATIVO||"N/D"}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:"FIS"===t.PESSOA?"F\xedsica":"JUR"===t.PESSOA?"J\xfaridica":"N\xe3o cadastrado"}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:(0,r.jsxs)("p",{className:"w-64 truncate",children:[" ",t.RAZAO||"N/D"]})}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:(0,r.jsx)("p",{className:"w-40 truncate",children:t.CPF_CNPJ?11===t.CPF_CNPJ.length?t.CPF_CNPJ.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):t.CPF_CNPJ.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):"N/D"})}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:(0,r.jsx)("p",{className:"w-37 truncate",children:t.CIDADE||"N/D"})}),(0,r.jsx)(i.Yc,{className:"px-2 py-3",children:(0,r.jsx)("p",{className:"w-28 truncate",children:t.COD_ERP||"N/D"})}),(0,r.jsx)(i.Yc,{className:"px-2 py-2",children:(0,r.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,r.jsx)(o.A,{title:"Editar",onClick:()=>a(t),children:(0,r.jsx)(l.A,{})}),(0,r.jsx)(o.A,{title:"Editar",onClick:()=>n(t),children:(0,r.jsx)(s,{})})]})})]})}var d=a(44296),u=a(17976),h=a(99776),p=a(14426),m=a(68534),x=a(2044),g=a(12115),A=a(73731),f=a(76380),v=a(69242),C=a(38543),j=a(92697),y=a(64569);let b={RAZAO:e=>!!e&&"string"==typeof e&&e.length<=100,CPF_CNPJ:e=>!e||"string"==typeof e&&(/^[0-9]{11}$/.test(e)||/^[0-9]{14}$/.test(e)),FANTASIA:e=>!e||"string"==typeof e&&e.length<=60,PESSOA:e=>!e||"FIS"===e||"JUR"===e,CIDADE:e=>!e||"string"==typeof e&&e.length<=60,ATIVO:e=>!e||"SIM"===e||"NAO"===e,COD_ERP:e=>!e||"string"==typeof e&&e.length<=20,ESTADO:e=>!e||"string"==typeof e&&e.length<=2,SETOR:e=>!e||"number"==typeof e};function N(e){let{customer:t}=e,{closeModal:a}=(0,j.Us)(),{updateCustomer:l}=(0,y.qw)(),n=(0,g.useRef)({ATIVO:t.ATIVO,COD_ERP:t.COD_ERP,CIDADE:t.CIDADE,CPF_CNPJ:t.CPF_CNPJ,FANTASIA:t.FANTASIA,PESSOA:t.PESSOA,RAZAO:t.RAZAO}),s=async()=>{let e=i(n.current);console.log("Is Valid:",e),console.log("Form Data:",n.current),e&&l(t.CODIGO,n.current),a()},i=e=>{let t=[];for(let a in e){let r=e[a];b[a](r)||t.push(a)}return!(t.length>0)||(C.oR.error("Por favor, preencha os seguintes campos corretamente:\n- ".concat(t.join("\n- "))),!1)};return(0,r.jsxs)("aside",{className:"flex h-full w-full flex-col items-center gap-4 bg-white p-4 dark:bg-slate-800",children:[(0,r.jsxs)("header",{className:"flex text-lg w-full font-semibold font-medium items-center justify-between py-2 text-slate-800 dark:text-white",children:[(0,r.jsx)("h1",{children:"Editar cliente"}),(0,r.jsx)(o.A,{onClick:a,children:(0,r.jsx)(v.A,{})})]}),(0,r.jsxs)("div",{className:"flex w-full flex-row justify-center gap-4",children:[(0,r.jsx)(A.A,{fullWidth:!0,label:"Raz\xe3o Social",name:"RAZAO",type:"text",id:"RAZAO",defaultValue:t.RAZAO,required:!0,onChange:e=>{n.current={...n.current,RAZAO:e.target.value}}}),(0,r.jsx)(A.A,{fullWidth:!0,label:"Fantasia",name:"FANTASIA",type:"text",id:"FANTASIA",defaultValue:t.FANTASIA,onChange:e=>{n.current={...n.current,FANTASIA:e.target.value}}})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-center gap-4",children:[(0,r.jsx)(A.A,{label:"CPF/CNPJ",name:"CPF_CNPJ",type:"text",id:"CPF_CNPJ",defaultValue:t.CPF_CNPJ,fullWidth:!0,required:!0,onChange:e=>{n.current={...n.current,CPF_CNPJ:e.target.value.trim()}}}),(0,r.jsx)(A.A,{label:"Cidade",name:"CIDADE",type:"text",fullWidth:!0,defaultValue:t.CIDADE,id:"CIDADE",required:!0,onChange:e=>{n.current={...n.current,CIDADE:e.target.value}}}),(0,r.jsx)(A.A,{label:"ERP",name:"COD_ERP",type:"text",defaultValue:t.COD_ERP,fullWidth:!0,onChange:e=>{var t;n.current={...n.current,COD_ERP:null!==(t=e.target.value.trim())&&void 0!==t?t:""}}})]}),(0,r.jsxs)("div",{className:"flex h-full w-full flex-row items-center gap-4",children:[(0,r.jsxs)(A.A,{name:"ATIVO",defaultValue:t.ATIVO,label:"Ativo",fullWidth:!0,select:!0,required:!0,onChange:e=>{n.current={...n.current,ATIVO:e.target.value}},children:[(0,r.jsx)(f.A,{value:"SIM",children:"Sim"},"SIM"),(0,r.jsx)(f.A,{value:"NAO",children:"N\xe3o"},"NAO")]}),(0,r.jsxs)(A.A,{select:!0,label:"Tipo de Pessoa",name:"PESSOA",defaultValue:t.PESSOA,id:"PESSOA",fullWidth:!0,required:!0,onChange:e=>{n.current={...n.current,PESSOA:e.target.value}},children:[(0,r.jsx)(f.A,{value:"FIS",children:"F\xedsica"},"FIS"),(0,r.jsx)(f.A,{value:"JUR",children:"Jur\xeddica"},"JUR")]})]}),(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-end gap-4",children:[(0,r.jsx)(m.A,{color:"error",onClick:a,children:"Cancelar"}),(0,r.jsx)(m.A,{onClick:s,children:"Salvar"})]})]})}function w(){let{closeModal:e}=(0,j.Us)(),{createCustomer:t}=(0,y.qw)(),a=(0,g.useRef)({ATIVO:"SIM",RAZAO:""}),l=async()=>{if(!a.current.RAZAO){C.oR.error("Raz\xe3o Social \xe9 obrigat\xf3ria!");return}t(a.current),e()};return(0,r.jsxs)("aside",{className:"flex h-full w-full flex-col items-center gap-4 bg-white p-4 dark:bg-slate-800",children:[(0,r.jsxs)("header",{className:"flex text-lg w-full font-semibold font-medium items-center justify-between py-2 text-slate-800 dark:text-white",children:["Cadastrar Cliente",(0,r.jsx)(o.A,{onClick:e,children:(0,r.jsx)(v.A,{})})]}),(0,r.jsxs)("div",{className:"flex w-full flex-row justify-center gap-4",children:[(0,r.jsx)(A.A,{fullWidth:!0,label:"Raz\xe3o Social",name:"razao",type:"text",id:"razao",required:!0,onChange:e=>{a.current={...a.current,RAZAO:e.target.value}}}),(0,r.jsx)(A.A,{fullWidth:!0,label:"Fantasia",name:"fantasy",type:"text",id:"fantasy",onChange:e=>{a.current={...a.current,FANTASIA:e.target.value}}})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-center gap-4",children:[(0,r.jsx)(A.A,{label:"CPF/CNPJ",name:"cpf",type:"text",id:"cpf",fullWidth:!0,required:!0,onChange:e=>{a.current={...a.current,CPF_CNPJ:e.target.value.trim()}}}),(0,r.jsx)(A.A,{label:"Cidade",name:"city",type:"text",fullWidth:!0,id:"city",required:!0,onChange:e=>{a.current={...a.current,CIDADE:e.target.value}}}),(0,r.jsx)(A.A,{label:"ERP",name:"erp",type:"text",fullWidth:!0,onChange:e=>{var t;a.current={...a.current,COD_ERP:null!==(t=e.target.value)&&void 0!==t?t:""}}})]}),(0,r.jsxs)("div",{className:"flex h-full w-full flex-row items-center gap-4",children:[(0,r.jsxs)(A.A,{name:"active",label:"Ativo",fullWidth:!0,select:!0,required:!0,onChange:e=>{a.current={...a.current,ATIVO:e.target.value}},children:[(0,r.jsx)(f.A,{value:"SIM",children:"Sim"},"SIM"),(0,r.jsx)(f.A,{value:"NAO",children:"N\xe3o"},"NAO")]}),(0,r.jsxs)(A.A,{select:!0,label:"Tipo de Pessoa",name:"Tipo de Pessoa",id:"personType",fullWidth:!0,required:!0,onChange:e=>{a.current={...a.current,PESSOA:e.target.value}},children:[(0,r.jsx)(f.A,{value:"FIS",children:"F\xedsica"},"FIS"),(0,r.jsx)(f.A,{value:"JUR",children:"Jur\xeddica"},"JUR")]})]}),(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-end gap-4",children:[(0,r.jsx)(m.A,{color:"error",onClick:e,children:"Cancelar"}),(0,r.jsx)(m.A,{onClick:l,children:"Cadastrar"})]})]})}var O=a(56033),P=a(63954);function R(){var e,t,a,l,n,s,o;let{dispatch:c,loadCustomers:d,state:u}=(0,y.qw)(),h=(0,g.useRef)(u.filters),p=(e,t)=>{""===t||"none"===t?delete h.current[e]:h.current[e]=t};return(0,r.jsx)(O.A,{children:(0,r.jsxs)(i.oM,{className:"sticky top-0 z-10 rounded-md text-gray-600 bg-white dark:bg-indigo-900",children:[(0,r.jsx)(i.Yc,{children:(0,r.jsx)(A.A,{label:"C\xf3digo",variant:"standard",slotProps:{input:{disableUnderline:!0}},onChange:e=>p("CODIGO",e.target.value),defaultValue:(null===(e=u.filters)||void 0===e?void 0:e.CODIGO)||""})}),(0,r.jsx)(i.Yc,{children:(0,r.jsxs)(A.A,{name:"ATIVO",label:"Ativo",variant:"standard",style:{width:"6rem"},select:!0,slotProps:{input:{disableUnderline:!0}},onChange:e=>p("ATIVO",e.target.value),defaultValue:(null===(t=u.filters)||void 0===t?void 0:t.ATIVO)||"",children:[(0,r.jsx)(f.A,{value:"none",children:"Ambos"},"none"),(0,r.jsx)(f.A,{value:"SIM",children:"Sim"},"SIM"),(0,r.jsx)(f.A,{value:"NAO",children:"N\xe3o"},"NAO")]})}),(0,r.jsx)(i.Yc,{children:(0,r.jsxs)(A.A,{name:"PESSOA",label:"Pessoa",variant:"standard",style:{width:"7rem"},select:!0,slotProps:{input:{disableUnderline:!0}},onChange:e=>p("PESSOA",e.target.value),defaultValue:(null===(a=u.filters)||void 0===a?void 0:a.PESSOA)||"",children:[(0,r.jsx)(f.A,{value:"",children:"Ambos"},"none"),(0,r.jsx)(f.A,{value:"JUR",children:"JUR"},"JUR"),(0,r.jsx)(f.A,{value:"FIS",children:"FIS"},"FIS")]})}),(0,r.jsx)(i.Yc,{children:(0,r.jsx)(A.A,{label:"Raz\xe3o social",variant:"standard",slotProps:{input:{disableUnderline:!0}},onChange:e=>p("RAZAO",e.target.value),defaultValue:(null===(l=u.filters)||void 0===l?void 0:l.RAZAO)||""})}),(0,r.jsx)(i.Yc,{children:(0,r.jsx)(A.A,{label:"CPF/CNPJ",variant:"standard",slotProps:{input:{disableUnderline:!0}},onChange:e=>p("CPF_CNPJ",e.target.value),defaultValue:(null===(n=u.filters)||void 0===n?void 0:n.CPF_CNPJ)||""})}),(0,r.jsx)(i.Yc,{children:(0,r.jsx)(A.A,{label:"Cidade",variant:"standard",slotProps:{input:{disableUnderline:!0}},onChange:e=>p("CIDADE",e.target.value),defaultValue:(null===(s=u.filters)||void 0===s?void 0:s.CIDADE)||""})}),(0,r.jsx)(i.Yc,{children:(0,r.jsx)(A.A,{label:"C\xf3digo ERP",variant:"standard",slotProps:{input:{disableUnderline:!0}},onChange:e=>p("COD_ERP",e.target.value),defaultValue:(null===(o=u.filters)||void 0===o?void 0:o.COD_ERP)||""})}),(0,r.jsx)(i.Yc,{children:(0,r.jsx)("button",{onClick:()=>{c({type:"change-filters",filters:h.current}),d()},children:(0,r.jsx)(P.A,{})})})]})})}var S=a(88702),I=a(42732);let E=(0,n.A)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),D=(0,n.A)((0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var F=a(19505);function k(e){let{contact:t,handleEdit:a,handleDelete:n}=e,[s,i]=(0,g.useState)({isEditing:!1,name:t.name,phone:t.phone});return(0,r.jsxs)("li",{className:"mb-4 flex items-center gap-2",children:[(0,r.jsx)(A.A,{defaultValue:t.name,className:"w-64",disabled:!s.isEditing,onChange:e=>{let{value:t}=e.target;i(e=>({...e,name:t}))}}),(0,r.jsx)(A.A,{value:I.Formatter.phone(t.phone),className:"pointer-events-none w-64",disabled:!s.isEditing,onChange:e=>{let{value:t}=e.target;i(e=>({...e,phone:t}))}}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.A,{"aria-hidden":s.isEditing,onClick:()=>{i({...s,isEditing:!0})},className:"aria-hidden:hidden",children:(0,r.jsx)(l.A,{})}),(0,r.jsx)(o.A,{"aria-hidden":!s.isEditing,onClick:()=>{i({...s,isEditing:!1})},className:"aria-hidden:hidden",color:"warning",children:(0,r.jsx)(E,{})}),(0,r.jsx)(o.A,{"aria-hidden":!s.isEditing,onClick:()=>{i({...s,isEditing:!1}),a({...t,name:s.name,phone:s.phone})},className:"aria-hidden:hidden",color:"success",children:(0,r.jsx)(D,{})}),(0,r.jsx)(o.A,{"aria-hidden":s.isEditing,onClick:()=>{n(t.id)},className:"aria-hidden:hidden",color:"error",children:(0,r.jsx)(F.A,{})})]})]})}var M=a(40857);function V(e){let{customer:t}=e,{closeModal:a}=(0,g.useContext)(j.BR),{wppApi:l,updateChatContact:n}=(0,g.useContext)(S.ce),[s,i]=(0,g.useState)([]),[c,d]=(0,g.useState)({name:"",phone:""}),[u,h]=(0,g.useState)({name:"",phone:""}),p=(0,g.useMemo)(()=>{let e=[],t=""!==c.name.trim(),a=""!==c.phone.trim();if(!t&&!a)return s;for(let r of s){let l=[];t&&l.push(r.name.toLowerCase().includes(c.name.toLowerCase())),a&&l.push(r.phone.includes(c.phone)),l.every(e=>e)&&e.push(r)}return e},[c,s]),x=u.name.length>0&&u.phone.length>=10&&u.phone.length<=15;(0,g.useEffect)(()=>{l.current&&l.current.getCustomerContacts(t.CODIGO).then(e=>{i(e)})},[]);let f=(0,g.useCallback)(async e=>{if(l.current)try{await l.current.updateContact(e.id,e.name),C.oR.success("Contato atualizado com sucesso!"),i(t=>t.map(t=>t.id===e.id?e:t)),n(e.id,e.name)}catch(e){C.oR.error("Falha ao atualizar contato:\n"+(0,I.sanitizeErrorMessage)(e))}},[]),y=(0,g.useCallback)(async e=>{if(l.current)try{await l.current.deleteContact(e),C.oR.success("Contato deletado com sucesso!"),i(t=>t.filter(t=>t.id!==e))}catch(e){C.oR.error("Falha ao deletar contato:\n"+(0,I.sanitizeErrorMessage)(e))}},[]);return(0,r.jsxs)("div",{className:"rounded-md bg-white dark:bg-slate-800 text-semibold p-4 dark:text-white text-gray-800 w-full max-w-3xl",children:[(0,r.jsxs)("header",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsxs)("h1",{className:"max-w-80 truncate",children:['Contatos de "',t.RAZAO,'"']}),(0,r.jsx)(o.A,{onClick:a,children:(0,r.jsx)(v.A,{})})]}),(0,r.jsxs)("div",{className:"mb-2 flex items-center gap-2 py-2",children:[(0,r.jsx)(A.A,{variant:"standard",label:"Nome",className:"w-64 px-1 font-bold",value:c.name,onChange:e=>d(t=>({...t,name:e.target.value}))}),(0,r.jsx)(A.A,{variant:"standard",label:"Telefone",className:"w-64 px-1 font-bold",value:c.phone,onChange:e=>d(t=>({...t,phone:e.target.value.replace(/\D/g,"")}))}),(0,r.jsx)("p",{className:"w-32"})]}),(0,r.jsx)("ul",{className:"max-h-[20rem] scrollbar-whatsapp",children:p.map(e=>(0,r.jsx)(k,{contact:e,handleEdit:f,handleDelete:y},e.id))}),(0,r.jsxs)("div",{className:"pt-4",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Adicionar Contato"}),(0,r.jsxs)("form",{className:"flex items-center gap-2",children:[(0,r.jsx)(A.A,{label:"Nome",placeholder:"John Doe",onChange:e=>{h({...u,name:e.target.value})},value:u.name,className:"w-64"}),(0,r.jsx)(A.A,{label:"WhatsApp",placeholder:"551100000000",onChange:e=>{h({...u,phone:e.target.value.replace(/\D/g,"")})},value:u.phone,className:"w-64"}),(0,r.jsx)(m.A,{variant:"contained",sx:{height:"3.5rem"},disabled:!x,onClick:()=>{l.current&&l.current.createContact(u.name,u.phone,t.CODIGO).then(e=>{i(t=>[...t,e]),h({name:"",phone:""}),C.oR.success("Contato cadastrado com sucesso!")}).catch(e=>{C.oR.error("Falha ao cadastrar contato:\n"+(0,I.sanitizeErrorMessage)(e))})},className:"!ml-auto",children:(0,r.jsx)(M.A,{})})]})]})]})}function T(){var e,t;let{openModal:a}=(0,g.useContext)(j.BR),{state:l,dispatch:n,loadCustomers:s}=(0,g.useContext)(y.pI);function o(e){a((0,r.jsx)(N,{customer:e}))}function A(e){a((0,r.jsx)(V,{customer:e}))}let f=e=>{n({type:"change-page",page:e}),s()},v=e=>{n({type:"change-per-page",perPage:e}),s()};return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.A,{className:"mx-auto max-h-[70vh] overflow-auto rounded-md scrollbar-whatsapp shadow-md bg-white text-slate-800 dark:bg-slate-800 dark:text-slate-100",children:(0,r.jsxs)(u.A,{className:"max-h-[100%] overflow-auto scrollbar-whatsapp",children:[(0,r.jsx)(R,{}),(0,r.jsxs)(h.A,{children:[l.isLoading&&(0,r.jsx)(i.oM,{className:"h-32 w-full",children:(0,r.jsx)(i.Yc,{colSpan:8,className:"flex items-center justify-center text-center text-gray-600 dark:text-gray-300",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(p.A,{}),(0,r.jsx)("span",{className:"mt-2",children:"Carregando clientes..."})]})})}),!l.isLoading&&l.customers.map(e=>(0,r.jsx)(c,{customer:e,openEditModalHandler:o,openContactModalHandler:A},"".concat(e.RAZAO,"_").concat(e.CODIGO)))]})]})}),!l.isLoading&&(0,r.jsxs)("div",{className:"flex h-fit w-full justify-center gap-4 px-4 pt-0",children:[(0,r.jsx)(m.A,{onClick:function(){a((0,r.jsx)(w,{}))},variant:"outlined",children:"Cadastrar cliente"}),(0,r.jsx)(x.A,{component:"div",count:l.totalRows,page:+(null!==(e=l.filters.page)&&void 0!==e?e:1),rowsPerPage:+(null!==(t=l.filters.perPage)&&void 0!==t?t:10),labelRowsPerPage:"Entradas por p\xe1gina",labelDisplayedRows:e=>{let{from:t,to:a,count:r}=e;return"".concat(t,"-").concat(a," de ").concat(r)},onRowsPerPageChange:e=>v(+e.target.value),onPageChange:(e,t)=>f(t)})]})]})}function _(){return(0,r.jsx)("div",{className:"flex flex-col px-10 pt-5 w-screen h-screen box-border relative",children:(0,r.jsx)(T,{})})}},72562:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,f:()=>n});var r=a(55170),l=a(90870);function n(e){return(0,l.Ay)("MuiListItemIcon",e)}let s=(0,r.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},76380:(e,t,a)=>{"use strict";a.d(t,{A:()=>w});var r=a(12115),l=a(52596),n=a(17472),s=a(14391),i=a(36437),o=a(75955),c=a(40680),d=a(10186),u=a(99801),h=a(87584),p=a(21329),m=a(36863),x=a(44324),g=a(72562),A=a(9546),f=a(55170),v=a(90870);function C(e){return(0,v.Ay)("MuiMenuItem",e)}let j=(0,f.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=a(95155);let b=e=>{let{disabled:t,dense:a,divider:r,disableGutters:l,selected:s,classes:i}=e,o=(0,n.A)({root:["root",a&&"dense",t&&"disabled",!l&&"gutters",r&&"divider",s&&"selected"]},C,i);return{...i,...o}},N=(0,o.Ay)(h.A,{shouldForwardProp:e=>(0,i.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((0,c.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(x.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(x.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(g.A.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(g.A.root," svg")]:{fontSize:"1.25rem"}}}]}})),w=r.forwardRef(function(e,t){let a;let n=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:c=!1,disableGutters:h=!1,focusVisibleClassName:x,role:g="menuitem",tabIndex:A,className:f,...v}=n,C=r.useContext(u.A),j=r.useMemo(()=>({dense:o||C.dense||!1,disableGutters:h}),[C.dense,o,h]),w=r.useRef(null);(0,p.A)(()=>{s&&w.current&&w.current.focus()},[s]);let O={...n,dense:j.dense,divider:c,disableGutters:h},P=b(n),R=(0,m.A)(w,t);return n.disabled||(a=void 0!==A?A:-1),(0,y.jsx)(u.A.Provider,{value:j,children:(0,y.jsx)(N,{ref:R,role:g,tabIndex:a,component:i,focusVisibleClassName:(0,l.A)(P.focusVisible,x),className:(0,l.A)(P.root,f),...v,ownerState:O,classes:P})})})},88872:(e,t,a)=>{"use strict";a.d(t,{Yc:()=>c,oM:()=>d});var r=a(75955),l=a(59832),n=a(58416),s=a(90404),i=a(2044),o=a(9560);let c=(0,r.Ay)(l.A)(e=>{let{theme:t}=e;return{["&.".concat(n.A.head)]:{color:t.palette.text.primary},borderBottom:"none",["&.".concat(n.A.body)]:{fontSize:14,color:t.palette.text.primary}}}),d=(0,r.Ay)(s.A)(()=>({"&:nth-of-type(even)":{backgroundColor:"rgba(99, 102, 241, 0.05)"},"&:last-child td, &:last-child th":{border:0}}));(0,r.Ay)(i.A)(e=>{let{theme:t}=e;return{["& .".concat(o.A.root)]:{color:t.palette.text.primary,"&.Mui-selected":{backgroundColor:t.palette.primary.main,color:t.palette.text.primary},"&:hover":{backgroundColor:t.palette.primary.main,color:t.palette.text.primary}}}})},99776:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var r=a(12115),l=a(52596),n=a(17472),s=a(61391),i=a(75955),o=a(10186),c=a(55170),d=a(90870);function u(e){return(0,d.Ay)("MuiTableBody",e)}(0,c.A)("MuiTableBody",["root"]);var h=a(95155);let p=e=>{let{classes:t}=e;return(0,n.A)({root:["root"]},u,t)},m=(0,i.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),x={variant:"body"},g="tbody",A=r.forwardRef(function(e,t){let a=(0,o.b)({props:e,name:"MuiTableBody"}),{className:r,component:n=g,...i}=a,c={...a,component:n},d=p(c);return(0,h.jsx)(s.A.Provider,{value:x,children:(0,h.jsx)(m,{className:(0,l.A)(d.root,r),as:n,ref:t,role:n===g?null:"rowgroup",ownerState:c,...i})})})}},e=>{var t=t=>e(e.s=t);e.O(0,[4488,9141,8534,1620,5332,4290,8702,8441,1684,7358],()=>t(44868)),_N_E=e.O()}]);