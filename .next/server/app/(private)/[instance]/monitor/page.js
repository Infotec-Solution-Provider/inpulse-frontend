(()=>{var e={};e.id=892,e.ids=[892],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{"use strict";e.exports=require("node:tty")},10078:(e,t,a)=>{"use strict";a.d(t,{A:()=>i}),a(43210);var r=a(23428),s=a(60687);let i=(0,r.A)((0,s.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},12952:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\infotec\\\\inpulse\\\\inpulse-frontend\\\\src\\\\app\\\\(private)\\\\[instance]\\\\monitor\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\page.tsx","default")},13942:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,q:()=>i});var r=a(4144),s=a(82816);function i(e){return(0,s.Ay)("MuiPaginationItem",e)}let n=(0,r.A)("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"])},18050:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=a(65239),s=a(48088),i=a(88170),n=a.n(i),l=a(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c={children:["",{children:["(private)",{children:["[instance]",{children:["monitor",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,12952)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,67587)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,26398)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(private)/[instance]/monitor/page",pathname:"/[instance]/monitor",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41896:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(23428),s=a(60687);let i=(0,r.A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},44372:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eI});var r,s=a(60687),i=a(43210),n=a(12879),l=a(75396),o=a(6948),c=a(72076);function d({type:e="external-chat",startDate:t,endDate:a,userName:r,sectorName:i="Suporte",imageUrl:d,chatTitle:p="Diego Souza",customerName:u,contactNumber:h,customerDocument:m,scheduledAt:x=null,scheduledFor:g=null,isScheduled:f=!1,participants:v,groupName:b,groupDescription:y,handleTransfer:A,handleView:j,handleFinish:N}){let w={"external-chat":"violet","internal-chat":"cyan","internal-group":"green","scheduled-chat":"amber",schedule:"orange"};return(0,s.jsxs)("div",{className:"mb-2 w-full rounded-md bg-slate-200 dark:bg-slate-800",children:[(0,s.jsx)("div",{className:`bg-${w[e]}-700/5 py-2 pl-2 pr-4 text-slate-700 dark:text-slate-200`,children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:`w-48 border-l-[3px] border-${w[e]}-500 px-2 text-xs`,children:[(0,s.jsx)("span",{className:`font-bold text-${w[e]}-800 dark:text-${w[e]}-200 `,children:{"external-chat":"Atendimento","scheduled-chat":"Atendimento Agendado","internal-chat":"Conversa Interna","internal-group":"Grupo Interno",schedule:"Agendamento"}[e]}),(0,s.jsx)("span",{className:"block",children:t||"N\xe3o Iniciado"}),(0,s.jsx)("span",{className:"block",children:a||(t?"Em andamento":(0,s.jsx)("br",{}))}),(0,s.jsxs)("span",{className:"block font-semibold text-indigo-800 dark:text-indigo-200",children:[" ",i&&(0,s.jsxs)(s.Fragment,{children:["(",i,") "]}),r||"N/A"," "]})]}),(0,s.jsx)(n.A,{alt:p,src:d||"",sx:{width:72,height:72},variant:"square"}),("external-chat"===e||"scheduled-chat"===e||"schedule"===e)&&(0,s.jsxs)("div",{className:"flex w-52 flex-col text-xs",children:[(0,s.jsxs)("span",{className:"text-md font-semibold",children:[p," "]}),(0,s.jsx)("span",{children:h||"N/A"}),u&&(0,s.jsx)("span",{children:u}),m&&(0,s.jsx)("span",{children:m})]}),"internal-chat"===e&&(0,s.jsx)("div",{className:"flex w-52 flex-col text-xs",children:(0,s.jsxs)("span",{className:"text-md font-semibold",children:[p," "]})}),"internal-group"===e&&(0,s.jsxs)("div",{className:"flex w-52 flex-col text-xs",children:[(0,s.jsxs)("span",{className:"text-md font-semibold",children:[b," "]}),(0,s.jsx)("p",{className:"truncate",children:y||"Sem descri\xe7\xe3o"}),(0,s.jsxs)("span",{children:[v?.length," participantes"]})]}),f&&(0,s.jsxs)("div",{className:"flex w-52 flex-col border-l border-slate-400 text-xs pl-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Agendado em"}),(0,s.jsx)("span",{children:x}),(0,s.jsx)("span",{className:"font-semibold",children:"Agendado para"}),(0,s.jsx)("span",{children:g})]}),(0,s.jsxs)("div",{className:"ml-auto flex flex-col items-end",children:[j&&(0,s.jsx)("button",{className:"hover:scale-125 hover:opacity-75",onClick:j,title:"Visualizar","aria-label":"Visualizar",children:(0,s.jsx)(l.A,{color:"info",className:"!text-sm"})}),A&&(0,s.jsx)("button",{className:"hover:scale-125 hover:opacity-75",onClick:A,title:"Transferir","aria-label":"Transferir",children:(0,s.jsx)(c.A,{color:"primary",className:"!text-sm"})}),N&&(0,s.jsx)("button",{className:"hover:scale-125 hover:opacity-75",onClick:N,title:"Finalizar","aria-label":"Finalizar",children:(0,s.jsx)(o.A,{color:"success",className:"!text-sm"})})]})]})}),(0,s.jsx)("div",{className:"hidden border-amber-500 border-cyan-500 border-green-500 border-violet-500 border-orange-500 bg-amber-700/5 bg-cyan-700/5 bg-green-700/5 bg-violet-700/5 bg-orange-700/5 text-amber-800 text-cyan-800 text-green-800 text-violet-800 dark:text-amber-200 dark:text-cyan-200 dark:text-green-200 dark:text-violet-200 text-orange-800 dark:text-orange-200 md:block"})]})}function p({children:e,id:t,value:a,onChange:r}){return(0,s.jsxs)("div",{className:"flex items-center gap-1 justify-start w-max",children:[(0,s.jsx)("input",{type:"checkbox",id:t,className:"peer",checked:a,onChange:r}),(0,s.jsx)("label",{htmlFor:t,className:" text-slate-800 dark:text-slate-200  peer-checked:text-indigo-700 dark:peer-checked:text-indigo-400",children:e})]})}var u=a(60997);function h({initialFrom:e="",initialTo:t="",onChange:a}){let[r,n]=(0,i.useState)(e),[l,o]=(0,i.useState)(t),c=e=>{let t=l;l&&e>l&&o(t=e),n(e),a?.({from:e,to:t})},d=e=>{let t=r;r&&e<r&&n(t=e),o(e),a?.({from:t,to:e})};return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{type:"date",size:"small",value:r,onChange:e=>c(e.target.value),fullWidth:!0}),(0,s.jsx)("span",{children:"-"}),(0,s.jsx)(u.A,{type:"date",size:"small",value:l,onChange:e=>d(e.target.value),fullWidth:!0})]})}function m(e){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-1",children:e.label}),(0,s.jsx)(h,{initialFrom:e.initialFrom,initialTo:e.initialTo,onChange:e.onChange})]})}var x=a(49384),g=a(99282),f=a(61543),v=a(87088),b=a(62973),y=a(92829),A=a(13555),j=a(45258),N=a(84754),w=a(4144),C=a(82816);function k(e){return(0,C.Ay)("MuiInputAdornment",e)}let T=(0,w.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),O=e=>{let{classes:t,disablePointerEvents:a,hiddenLabel:r,position:s,size:i,variant:n}=e,l={root:["root",a&&"disablePointerEvents",s&&`position${(0,f.A)(s)}`,n,r&&"hiddenLabel",i&&`size${(0,f.A)(i)}`]};return(0,g.A)(l,k,t)},I=(0,A.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`position${(0,f.A)(a.position)}`],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})((0,j.A)(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${T.positionStart}&:not(.${T.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),$=i.forwardRef(function(e,t){let a=(0,N.b)({props:e,name:"MuiInputAdornment"}),{children:n,className:l,component:o="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:p,variant:u,...h}=a,m=(0,y.A)()||{},g=u;u&&m.variant,m&&!g&&(g=m.variant);let f={...a,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:c,position:p,variant:g},A=O(f);return(0,s.jsx)(b.A.Provider,{value:null,children:(0,s.jsx)(I,{as:o,ownerState:f,className:(0,x.A)(A.root,l),ref:t,...h,children:"string"!=typeof n||d?(0,s.jsxs)(i.Fragment,{children:["start"===p?r||(r=(0,s.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,n]}):(0,s.jsx)(v.A,{color:"textSecondary",children:n})})})});var z=a(47651),P=a(41896),S=a(23566),D=a(97015);function M(){let{filters:e,setFilters:t,resetFilters:a}=(0,S.Ay)(),{users:r}=(0,D.Ay)();return(0,s.jsxs)("aside",{className:"scrollbar-whatsapp w-full overflow-y-auto rounded-md bg-slate-200 px-4 text-sm text-slate-800 dark:bg-slate-800 dark:text-slate-200 md:w-96",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between py-2",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Filtros"}),(0,s.jsx)("button",{className:"text-sm text-blue-500 hover:underline",onClick:a,children:"Limpar Filtros"})]}),(0,s.jsxs)("section",{className:"flex flex-col gap-2 border-b border-slate-600 py-2 dark:border-slate-400",children:[(0,s.jsx)("h2",{className:"text-md font-semibold",children:"Pesquisar"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(u.A,{placeholder:"Digite o texto da pesquisa",fullWidth:!0,size:"small",slotProps:{input:{startAdornment:(0,s.jsx)($,{position:"start",children:(0,s.jsx)(P.A,{className:"text-slate-500"})})}}})})]}),(0,s.jsxs)("section",{className:"border-b border-slate-600 py-2 dark:border-slate-400",children:[(0,s.jsx)("h2",{className:"text-md mb-2 font-semibold",children:"Categorias"}),(0,s.jsxs)("ul",{className:"flex flex-col gap-2 pl-2",children:[(0,s.jsx)(p,{id:"monit-filter:external-chats",value:e.categories.showCustomerChats,onChange:a=>t({...e,categories:{...e.categories,showCustomerChats:a.target.checked}}),children:"Exibir: Conversas com clientes"}),(0,s.jsx)(p,{id:"monit-filter:internal-chats",value:e.categories.showInternalChats,onChange:a=>t({...e,categories:{...e.categories,showInternalChats:a.target.checked}}),children:"Exibir: Conversas internas"}),(0,s.jsx)(p,{id:"monit-filter:internal-groups",value:e.categories.showInternalGroups,onChange:a=>t({...e,categories:{...e.categories,showInternalGroups:a.target.checked}}),children:"Exibir: Grupos internos"}),(0,s.jsx)(p,{id:"monit-filter:show-past-scheduled",value:e.categories.showSchedules,onChange:a=>t({...e,categories:{...e.categories,showSchedules:a.target.checked}}),children:"Exibir: Agendamentos"})]})]}),(0,s.jsxs)("section",{className:"border-b border-slate-600 py-2 dark:border-slate-400",children:[(0,s.jsx)("h2",{className:"text-md mb-4 font-semibold",children:"Atendente / Participante"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 pl-2",children:[(0,s.jsxs)(u.A,{select:!0,size:"small",label:"Usu\xe1rio",fullWidth:!0,defaultValue:"all",value:e.user,onChange:a=>{console.log("Selected user:",a.target.value),t({...e,user:"all"===a.target.value?"all":Number(a.target.value)})},children:[(0,s.jsx)(z.A,{value:"all",children:"Todos"}),r.map(e=>(0,s.jsx)(z.A,{value:e.CODIGO,children:e.NOME},e.CODIGO))]}),(0,s.jsx)(p,{id:"monit-filter:show-bots",value:e.showBots,onChange:a=>{t({...e,showBots:a.target.checked})},children:"Exibir bots"})]})]}),(0,s.jsxs)("section",{className:"border-b border-slate-600 py-2 dark:border-slate-400",children:[(0,s.jsx)("h2",{className:"text-md font-semibold",children:"Per\xedodo da conversa"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 py-2 pl-2",children:[(0,s.jsx)(p,{id:"monit-filter:show-ongoing",value:e.showOngoing,onChange:a=>{t({...e,showOngoing:a.target.checked})},children:"Exibir: Em andamento"}),(0,s.jsx)(p,{id:"monit-filter:show-finished",value:e.showFinished,onChange:a=>{t({...e,showFinished:a.target.checked})},children:"Exibir: Finalizados"}),(0,s.jsx)(m,{label:"Data de In\xedcio"}),(0,s.jsx)(m,{label:"Data de Finaliza\xe7\xe3o"})]})]}),(0,s.jsxs)("section",{className:"py-2",children:[(0,s.jsx)("h2",{className:"text-md font-semibold",children:"Agendamentos"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 py-2 pl-2",children:[(0,s.jsx)(p,{id:"monit-filter:show-only-scheduled",value:e.showOnlyScheduled,onChange:a=>{t({...e,showOnlyScheduled:a.target.checked})},children:"Exibir: Apenas agendados"}),(0,s.jsx)(m,{label:"Agendado no dia"}),(0,s.jsx)(m,{label:"Agendado para o dia"}),(0,s.jsx)("div",{className:"my-2",children:(0,s.jsxs)(u.A,{select:!0,size:"small",label:"Agendado por",fullWidth:!0,defaultValue:"all",children:[(0,s.jsx)(z.A,{value:"all",children:"Qualquer"}),(0,s.jsx)(z.A,{value:"user1",children:"Usu\xe1rio 1"}),(0,s.jsx)(z.A,{value:"user2",children:"Usu\xe1rio 2"}),(0,s.jsx)(z.A,{value:"user3",children:"Usu\xe1rio 3"})]})}),(0,s.jsxs)(u.A,{select:!0,size:"small",label:"Agendado para",fullWidth:!0,defaultValue:"all",children:[(0,s.jsx)(z.A,{value:"all",children:"Qualquer"}),(0,s.jsx)(z.A,{value:"user1",children:"Usu\xe1rio 1"}),(0,s.jsx)(z.A,{value:"user2",children:"Usu\xe1rio 2"}),(0,s.jsx)(z.A,{value:"user3",children:"Usu\xe1rio 3"})]})]})]})]})}var E=a(52171),R=a(44617),G=a(63952),q=a(44366),F=a(12039),_=a(70686),L=a(61339),U=a(45172),W=a(78878),V=a(32832),B=a(80312),X=a(72746);function H(e){return(0,C.Ay)("MuiPagination",e)}(0,w.A)("MuiPagination",["root","ul","outlined","text"]);var J=a(13560),Q=a(2899),Z=a(71779),K=a(13942),Y=a(88205),ee=a(48285),et=a(10078),ea=a(56676),er=a(23428);let es=(0,er.A)((0,s.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),ei=(0,er.A)((0,s.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");var en=a(34414);let el=(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,f.A)(a.size)}`],"text"===a.variant&&t[`text${(0,f.A)(a.color)}`],"outlined"===a.variant&&t[`outlined${(0,f.A)(a.color)}`],"rounded"===a.shape&&t.rounded,"page"===a.type&&t.page,("start-ellipsis"===a.type||"end-ellipsis"===a.type)&&t.ellipsis,("previous"===a.type||"next"===a.type)&&t.previousNext,("first"===a.type||"last"===a.type)&&t.firstLast]},eo=e=>{let{classes:t,color:a,disabled:r,selected:s,size:i,shape:n,type:l,variant:o}=e,c={root:["root",`size${(0,f.A)(i)}`,o,n,"standard"!==a&&`color${(0,f.A)(a)}`,"standard"!==a&&`${o}${(0,f.A)(a)}`,r&&"disabled",s&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return(0,g.A)(c,K.q,t)},ec=(0,A.Ay)("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:el})((0,j.A)(({theme:e})=>({...e.typography.body2,borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${K.A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),ed=(0,A.Ay)(Y.A,{name:"MuiPaginationItem",slot:"Root",overridesResolver:el})((0,j.A)(({theme:e})=>({...e.typography.body2,borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${K.A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${K.A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${K.A.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,Q.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${K.A.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Q.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${K.A.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${K.A.selected}`]:{[`&.${K.A.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${K.A.selected}`]:{[`&.${K.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter((0,ee.A)(["dark","contrastText"])).map(([t])=>({props:{variant:"text",color:t},style:{[`&.${K.A.selected}`]:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}},[`&.${K.A.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark},[`&.${K.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter((0,ee.A)(["light"])).map(([t])=>({props:{variant:"outlined",color:t},style:{[`&.${K.A.selected}`]:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:(0,Q.X4)(e.palette[t].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:(0,Q.X4)(e.palette[t].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Q.X4)(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${K.A.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Q.X4)(e.palette[t].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),ep=(0,A.Ay)("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})((0,j.A)(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),eu=i.forwardRef(function(e,t){let a=(0,N.b)({props:e,name:"MuiPaginationItem"}),{className:r,color:i="standard",component:n,components:l={},disabled:o=!1,page:c,selected:d=!1,shape:p="circular",size:u="medium",slots:h={},slotProps:m={},type:g="page",variant:f="text",...v}=a,b={...a,color:i,disabled:o,selected:d,shape:p,size:u,type:g,variant:f},y=(0,Z.I)(),A=eo(b),j={slots:{previous:h.previous??l.previous,next:h.next??l.next,first:h.first??l.first,last:h.last??l.last},slotProps:m},[w,C]=(0,en.A)("previous",{elementType:es,externalForwardedProps:j,ownerState:b}),[k,T]=(0,en.A)("next",{elementType:ei,externalForwardedProps:j,ownerState:b}),[O,I]=(0,en.A)("first",{elementType:et.A,externalForwardedProps:j,ownerState:b}),[$,z]=(0,en.A)("last",{elementType:ea.A,externalForwardedProps:j,ownerState:b}),P=y?({previous:"next",next:"previous",first:"last",last:"first"})[g]:g,S={previous:w,next:k,first:O,last:$}[P],D={previous:C,next:T,first:I,last:z}[P];return"start-ellipsis"===g||"end-ellipsis"===g?(0,s.jsx)(ec,{ref:t,ownerState:b,className:(0,x.A)(A.root,r),children:"…"}):(0,s.jsxs)(ed,{ref:t,ownerState:b,component:n,disabled:o,className:(0,x.A)(A.root,r),...v,children:["page"===g&&c,S?(0,s.jsx)(ep,{...D,className:A.icon,as:S}):null]})}),eh=e=>{let{classes:t,variant:a}=e;return(0,g.A)({root:["root",a],ul:["ul"]},H,t)},em=(0,A.Ay)("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant]]}})({}),ex=(0,A.Ay)("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function eg(e,t,a){return"page"===e?`${a?"":"Go to "}page ${t}`:`Go to ${e} page`}let ef=i.forwardRef(function(e,t){let a=(0,N.b)({props:e,name:"MuiPagination"}),{boundaryCount:r=1,className:i,color:n="standard",count:l=1,defaultPage:o=1,disabled:c=!1,getItemAriaLabel:d=eg,hideNextButton:p=!1,hidePrevButton:u=!1,onChange:h,page:m,renderItem:g=e=>(0,s.jsx)(eu,{...e}),shape:f="circular",showFirstButton:v=!1,showLastButton:b=!1,siblingCount:y=1,size:A="medium",variant:j="text",...w}=a,{items:C}=function(e={}){let{boundaryCount:t=1,componentName:a="usePagination",count:r=1,defaultPage:s=1,disabled:i=!1,hideNextButton:n=!1,hidePrevButton:l=!1,onChange:o,page:c,showFirstButton:d=!1,showLastButton:p=!1,siblingCount:u=1,...h}=e,[m,x]=(0,J.A)({controlled:c,default:s,name:a,state:"page"}),g=(e,t)=>{c||x(t),o&&o(e,t)},f=(e,t)=>Array.from({length:t-e+1},(t,a)=>e+a),v=f(1,Math.min(t,r)),b=f(Math.max(r-t+1,t+1),r),y=Math.max(Math.min(m-u,r-t-2*u-1),t+2),A=Math.min(Math.max(m+u,t+2*u+2),r-t-1),j=[...d?["first"]:[],...l?[]:["previous"],...v,...y>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...f(y,A),...A<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...b,...n?[]:["next"],...p?["last"]:[]],N=e=>{switch(e){case"first":return 1;case"previous":return m-1;case"next":return m+1;case"last":return r;default:return null}};return{items:j.map(e=>"number"==typeof e?{onClick:t=>{g(t,e)},type:"page",page:e,selected:e===m,disabled:i,"aria-current":e===m?"page":void 0}:{onClick:t=>{g(t,N(e))},type:e,page:N(e),selected:!1,disabled:i||!e.includes("ellipsis")&&("next"===e||"last"===e?m>=r:m<=1)}),...h}}({...a,componentName:"Pagination"}),k={...a,boundaryCount:r,color:n,count:l,defaultPage:o,disabled:c,getItemAriaLabel:d,hideNextButton:p,hidePrevButton:u,renderItem:g,shape:f,showFirstButton:v,showLastButton:b,siblingCount:y,size:A,variant:j},T=eh(k);return(0,s.jsx)(em,{"aria-label":"pagination navigation",className:(0,x.A)(T.root,i),ownerState:k,ref:t,...w,children:(0,s.jsx)(ex,{className:T.ul,ownerState:k,children:C.map((e,t)=>(0,s.jsx)("li",{children:g({...e,color:n,"aria-label":d(e.type,e.page,e.selected),shape:f,size:A,variant:j})},t))})})});function ev(e,t,a){if(!("chatType"in e)||"wpp"===e.chatType){let a=t.find(t=>t.id===e.sectorId);return a?a.name:null}if("internal"===e.chatType){let r=a.find(t=>t.CODIGO===e.creatorId),s=r&&t.find(e=>e.id===r.SETOR);return s?s.name:null}}function eb(e,t){if(!("chatType"in e))return"";if("wpp"===e.chatType)return e.avatarUrl||"";if("internal"===e.chatType&&e.isGroup&&e.groupImageFileId)return G.A.getFileDownloadUrl(e.groupImageFileId);if("internal"===e.chatType&&!e.isGroup){let a=t.find(t=>t.CODIGO!==e.creatorId);return a?.AVATAR_ID?G.A.getFileDownloadUrl(a.AVATAR_ID):""}return""}function ey(e){return"chatType"in e&&"wpp"!==e.chatType?"internal"===e.chatType&&e.isGroup?e.groupName||"Grupo Interno":"internal"!==e.chatType||e.isGroup?"Chat sem t\xedtulo":e.users.map(e=>e.NOME).join(" e ")||"Usu\xe1rio Desconhecido":e.contact?.name||"Contato exclu\xeddo"}function eA(e){return"chatType"in e&&"wpp"!==e.chatType?null:e.customer?.RAZAO||"Sem cliente associado"}function ej(e){return"chatType"in e&&"wpp"!==e.chatType?null:e.customer?.CPF_CNPJ||e.customer?"Documento n\xe3o informado":null}function eN(e){return"chatType"in e&&"wpp"!==e.chatType?null:e.contact?.phone?q.Formatter.phone(e.contact.phone):"Whatsapp n\xe3o encontrado"}function ew(e,t){if(!("chatType"in e))return[];if("internal"===e.chatType&&e.isGroup)return e.users.map(e=>e.NOME);if("internal"===e.chatType&&!e.isGroup){let t=e.users.find(t=>t.CODIGO!==e.creatorId);return t?[t.NOME]:[]}return[]}function eC(e){return"chatType"in e?"wpp"===e.chatType&&e.schedule?(0,R.A)(e.schedule.scheduledAt):null:(0,R.A)(e.scheduledAt)}function ek(e){return"chatType"in e?"wpp"===e.chatType&&e.schedule?(0,R.A)(e.schedule.scheduleDate):null:(0,R.A)(e.scheduleDate)}function eT(e){return"chatType"in e?"internal"===e.chatType&&e.isGroup?e.groupName||"Grupo sem nome":null:""}function eO(e){return"chatType"in e?"internal"===e.chatType&&e.isGroup?e.groupDescription||"Sem descri\xe7\xe3o":null:""}function eI(){let{chats:e}=(0,S.Ay)(),{sectors:t}=(0,E.jb)(),{users:a}=(0,D.Ay)(),{getChatsMonitor:r,setCurrentChat:n,openChat:l}=(0,E.jb)(),{openInternalChat:o,setCurrentChat:c}=(0,i.useContext)(D.xI),{openModal:p,closeModal:u}=(0,i.useContext)(F.BR);function h(e){return"chatType"in e?"wpp"===e.chatType?()=>{n(e),p((0,s.jsx)(_.A,{}))}:void 0:null}function m(e){return"chatType"in e?"wpp"===e.chatType?()=>{n(e),l(e),p((0,s.jsxs)("div",{className:"relative flex h-[80vh] w-[500px] flex-col rounded-md bg-slate-900 shadow-xl dark:bg-slate-800",children:[(0,s.jsx)("button",{onClick:()=>u?.(),className:"absolute right-2 top-1 z-10 text-gray-700 hover:text-red-500 dark:text-gray-300 dark:hover:text-red-300",children:"✕"}),(0,s.jsxs)(L.A,{children:[(0,s.jsx)(U.A,{avatarUrl:e.avatarUrl,name:e.contact?.name||"Contato exclu\xeddo",customerName:e.customer?.RAZAO||"N/D",chatType:e.chatType,codErp:e.customer?.COD_ERP||null,cpfCnpj:e.customer?.CPF_CNPJ||null,customerId:e.customer?.CODIGO||null,startDate:e.startedAt?new Date(e.startedAt).toDateString():null,phone:e.contact?.phone||"N/D"}),(0,s.jsx)("div",{className:"scrollbar-whatsapp flex-1 bg-white text-black drop-shadow-md dark:bg-slate-900 dark:text-white",children:(0,s.jsx)(W.A,{})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-white p-2 text-black dark:border-gray-700 dark:bg-slate-900",children:(0,s.jsx)(V.A,{})})]})]}))}:"internal"===e.chatType?()=>{console.log(e),c(e),o(e,!1),p((0,s.jsxs)("div",{className:"relative flex h-[80vh] w-[calc(100vw-4rem)] max-w-[1200px] flex-col rounded-md bg-slate-900 shadow-xl dark:bg-slate-800",children:[(0,s.jsx)("button",{onClick:()=>u?.(),className:"absolute right-2 top-1 z-10 text-gray-700 hover:text-red-500 dark:text-gray-300 dark:hover:text-red-300",children:"✕"}),(0,s.jsxs)(L.A,{children:[(0,s.jsx)(U.A,{avatarUrl:"",name:e.groupName||e.users[0].NOME,customerName:e.groupDescription||e.users[0].NOME_EXIBICAO||"",phone:e.users[0].SETOR_NOME||"",chatType:e.chatType,codErp:null,cpfCnpj:null,customerId:null,startDate:e.startedAt?new Date(e.startedAt).toDateString():null}),(0,s.jsx)("div",{className:"scrollbar-whatsapp flex-1 bg-white text-black drop-shadow-md dark:bg-slate-900 dark:text-white",children:(0,s.jsx)(B.A,{})}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-white p-2 text-black dark:border-gray-700 dark:bg-slate-900",children:(0,s.jsx)(V.A,{})})]})]}))}:void 0:null}function x(e){return"chatType"in e&&"wpp"===e.chatType?()=>{n(e),p((0,s.jsx)(X.A,{})),r()}:null}let[g,f]=(0,i.useState)(1),v=Math.ceil(e.length/20),b=e.slice((g-1)*20,20*g);return(0,s.jsx)("div",{className:"mx-auto grid h-[98%] w-full max-w-[1366px] grid-rows-[auto_1fr] gap-0",children:(0,s.jsxs)("div",{className:"flex w-full gap-2 overflow-hidden p-4",children:[(0,s.jsx)(M,{}),(0,s.jsxs)("main",{className:"scrollbar-whatsapp grow  grid grid-rows-[1fr_max-content] gap-4",children:[(0,s.jsx)("ul",{className:"overflow-auto",children:b.map(e=>{if("chatType"in e)return(0,s.jsx)(d,{type:"chatType"in e?"wpp"!==e.chatType||e.isSchedule?"internal"===e.chatType&&e.isGroup?"internal-group":"internal"!==e.chatType||e.isGroup?"scheduled-chat":"internal-chat":"external-chat":"schedule",startDate:(0,R.A)(e.startedAt),endDate:function(e){if(!e.startedAt)return"N\xe3o iniciado";if(!e.finishedAt)return"Em andamento";let t=(0,R.A)(e.finishedAt);return"N/D"===t?null:t}(e),userName:function(e,t){let a=t.find(t=>"wpp"===e.chatType?t.CODIGO===e.userId:t.CODIGO===e.creatorId);return a?a.NOME:"BOT"}(e,a),sectorName:ev(e,t,a),imageUrl:eb(e,a),chatTitle:ey(e),customerName:eA(e),contactNumber:eN(e),customerDocument:ej(e),scheduledAt:eC(e),scheduledFor:ek(e),isScheduled:"schedule"in e&&!!e.schedule,participants:ew(e,a),groupName:eT(e),groupDescription:eO(e),handleTransfer:h(e),handleView:m(e),handleFinish:x(e)},`${e.chatType}-${e.id}`);return(0,s.jsx)(d,{type:"scheduled-chat",startDate:"N\xe3o Iniciado",endDate:".",userName:function(e,t){let a=t.find(t=>t.CODIGO===e.scheduledFor);return a?a.NOME:"Usu\xe1rio Desconhecido"}(e,a),sectorName:ev(e,t,a),imageUrl:eb(e,a),chatTitle:ey(e),customerName:eA(e),contactNumber:eN(e),customerDocument:ej(e),scheduledAt:eC(e),scheduledFor:ek(e),isScheduled:!("chatType"in e)||"schedule"in e&&!!e.schedule,participants:ew(e,a),groupName:eT(e),groupDescription:eO(e),handleTransfer:h(e),handleView:m(e),handleFinish:x(e)},`schedule-${e.id}`)})}),0===e.length&&(0,s.jsx)("div",{className:"text-center text-gray-500 mt-8",children:"Nenhum chat encontrado."}),(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsx)(ef,{count:v,page:g,onChange:(e,t)=>f(t),color:"primary",size:"medium"})})]})]})})}},48161:e=>{"use strict";e.exports=require("node:os")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56676:(e,t,a)=>{"use strict";a.d(t,{A:()=>i}),a(43210);var r=a(23428),s=a(60687);let i=(0,r.A)((0,s.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70851:(e,t,a)=>{Promise.resolve().then(a.bind(a,12952))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80312:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(60687),s=a(93108),i=a(43210),n=a(52171),l=a(97015),o=a(30601),c=a(57810);function d(){let{currentChatMessages:e,currentChat:t}=(0,i.useContext)(n.ce),{currentInternalChatMessages:a,users:d}=(0,i.useContext)(l.xI),{user:p}=(0,i.useContext)(o.c),u=(0,i.useRef)(null),h=(0,i.useMemo)(()=>{let e=new Map;for(let t of d)e.set(t.CODIGO,t);return e},[d]);return(0,r.jsxs)("ul",{className:"flex h-full w-full flex-col gap-2 scrollbar-whatsap p-2",ref:u,children:[t?.chatType==="wpp"&&e.length>0&&e.map(e=>(0,r.jsx)(s.Ay,{id:e.id,style:e.from.startsWith("system")?"system":e.from.startsWith("bot")||e.from.startsWith("me:")?"sent":"received",text:e.body,date:new Date(+e.timestamp),status:e.status,fileId:e.fileId,fileName:e.fileName,fileType:e.fileType,fileSize:e.fileSize},`message_${e.id}`)),t?.chatType==="internal"&&h.size>0&&a&&a.length>0&&a.map((e,t,a)=>{var s;let i=Number(e.from.split(":")[1]),n=h.get(i),l=t>0?a[t-1]:null,o=!n||!l||l.from!==e.from;return(0,r.jsx)(c.A,{id:e.id,style:(s=p.CODIGO,"system"===e.from?"system":e.from===`user:${s}`?"sent":"received"),groupFirst:o,sentBy:n?n.NOME:"Desconhecido",text:e.body,date:new Date(+e.timestamp),status:e.status,fileId:e.fileId,fileName:e.fileName,fileType:e.fileType,fileSize:e.fileSize},`message_${e.id}`)})]})}},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},84923:(e,t,a)=>{Promise.resolve().then(a.bind(a,44372))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[828,700,879,630,467,221,790,91],()=>a(18050));module.exports=r})();