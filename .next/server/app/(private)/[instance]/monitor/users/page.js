(()=>{var e={};e.id=447,e.ids=[447],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{"use strict";e.exports=require("node:tty")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16692:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(65239),n=r(48088),o=r(88170),a=r.n(o),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["(private)",{children:["[instance]",{children:["monitor",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89443)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,67587)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,26398)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\users\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(private)/[instance]/monitor/users/page",pathname:"/[instance]/monitor/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23566:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,uk:()=>u});var s=r(60687),n=r(43210),o=r(52171),a=r(97015),i=r(30601);let l={categories:{showCustomerChats:!0,showInternalChats:!0,showInternalGroups:!0,showSchedules:!0},user:"all",showBots:!1,showOngoing:!0,showFinished:!0,showOnlyScheduled:!1,startedAt:{from:null,to:null},finishedAt:{from:null,to:null},scheduledAt:{from:null,to:null},scheduledTo:{from:null,to:null},scheduledBy:"all",scheduledFor:"all"},d=(0,n.createContext)({});function u({children:e}){let{monitorChats:t,getChatsMonitor:r,getMonitorSchedules:u,monitorSchedules:c}=(0,o.jb)(),{monitorInternalChats:p,getInternalChatsMonitor:h}=(0,a.Ay)(),{token:m}=(0,n.useContext)(i.c),[x,f]=(0,n.useState)(l),A=(0,n.useMemo)(()=>{let e=p.filter(e=>{if(e.isGroup&&!x.categories.showInternalGroups||!e.isGroup&&!x.categories.showInternalChats||"all"!==x.user&&!e.participants.some(e=>e.userId===x.user)||x.showOnlyScheduled)return!1;let t=new Date(e.startedAt);return!(x.startedAt.from&&t<new Date(x.startedAt.from)||x.startedAt.to&&t>new Date(x.startedAt.to))});return[...e,...t.filter(e=>{if(!x.categories.showCustomerChats||"all"!==x.user&&e.userId!==x.user||!x.showBots&&null!==e.botId||x.showOnlyScheduled&&!e.isSchedule)return!1;let t=null===e.finishedAt&&null!==e.startedAt,r=null!==e.finishedAt;return!(!x.showOngoing&&!x.showFinished||x.showOngoing&&!x.showFinished&&!t||!x.showOngoing&&x.showFinished&&!r||x.startedAt.from&&new Date(e.startedAt)<new Date(x.startedAt.from)||x.startedAt.to&&new Date(e.startedAt)>new Date(x.startedAt.to)||x.finishedAt.from&&e.finishedAt&&new Date(e.finishedAt)<new Date(x.finishedAt.from)||x.finishedAt.to&&e.finishedAt&&new Date(e.finishedAt)>new Date(x.finishedAt.to)||x.scheduledAt.from&&e.schedule?.scheduledAt&&new Date(e.schedule.scheduledAt)<new Date(x.scheduledAt.from)||x.scheduledAt.to&&e.schedule?.scheduledAt&&new Date(e.schedule.scheduledAt)>new Date(x.scheduledAt.to)||x.scheduledTo.from&&e.schedule?.scheduleDate&&new Date(e.schedule.scheduleDate)<new Date(x.scheduledTo.from)||x.scheduledTo.to&&e.schedule?.scheduleDate&&new Date(e.schedule.scheduleDate)>new Date(x.scheduledTo.to))}),...c.filter(e=>!(!x.categories.showSchedules||"all"!==x.scheduledBy&&e.scheduledBy!==x.scheduledBy||"all"!==x.scheduledFor&&e.scheduledFor!==x.scheduledFor||x.scheduledAt.from&&new Date(e.scheduledAt)<new Date(x.scheduledAt.from)||x.scheduledAt.to&&new Date(e.scheduledAt)>new Date(x.scheduledAt.to)))].sort((e,t)=>{let r=e=>new Date("startedAt"in e&&e.startedAt?e.startedAt:"scheduledAt"in e&&e.scheduledAt?e.scheduledAt:0),s=r(e),n=r(t);return s.getTime()-n.getTime()})},[t,p,x]);return(0,s.jsx)(d.Provider,{value:{chats:A,filters:x,setFilters:f,resetFilters:()=>{f(l)}},children:e})}function c(){let e=(0,n.useContext)(d);if(!e)throw Error("useMonitorContext must be used within a MonitorProvider");return e}},27017:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(60687),n=r(23566);function o({children:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.uk,{children:e})})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34196:(e,t,r)=>{"use strict";r.d(t,{default:()=>D});var s=r(60687),n=r(13555),o=r(87980),a=r(13330),i=r(76897),l=r(39513),d=r(13942);let u=(0,n.Ay)(o.A)(({theme:e})=>({[`&.${a.A.head}`]:{color:e.palette.text.primary},borderBottom:"none",[`&.${a.A.body}`]:{fontSize:14,color:e.palette.text.primary}})),c=(0,n.Ay)(i.A)(()=>({"&:nth-of-type(even)":{backgroundColor:"rgba(99, 102, 241, 0.05)"},"&:last-child td, &:last-child th":{border:0}}));(0,n.Ay)(l.A)(({theme:e})=>({[`& .${d.A.root}`]:{color:e.palette.text.primary,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary},"&:hover":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary}}}));var p=r(73528);function h({User:e}){return(0,s.jsxs)(c,{children:[(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:(0,s.jsx)("p",{className:"w-14",children:e.CODIGO||"N/D"})}),(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:e.ATIVO||"N/D"}),(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:(0,s.jsx)("p",{className:"w-64 truncate",children:e.NOME||"N/D"})}),(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:(0,s.jsx)("p",{className:"w-40 truncate",children:e.EMAIL||"N/D"})}),(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:(0,s.jsx)("p",{className:"w-36 truncate",children:e.SETOR||"N/D"})}),(0,s.jsx)(p.Yc,{className:"px-2 py-3",children:(0,s.jsx)("p",{className:"w-0 truncate"})})]})}var m=r(91433),x=r(66803),f=r(98577),A=r(86562),g=r(43210),v=r(30601);r(93853);var w=r(27807),b=r(30076),y=r(60997),j=r(47651),C=r(41896);function P({setLoading:e,setPage:t,setTotalPages:r,setUsers:n,rowsPerPage:o,filters:a,setFilters:i}){return(0,s.jsx)(b.A,{children:(0,s.jsxs)(c,{className:"sticky top-0 rounded-md bg-indigo-900",children:[(0,s.jsx)(u,{children:(0,s.jsx)(y.A,{label:"C\xf3digo",variant:"standard",slotProps:{input:{disableUnderline:!0}},value:a?.CODIGO||"",onChange:e=>{let t=e.target.value;isNaN(Number(t))||i(e=>{let r={...e};return t?r.CODIGO=t:delete r.CODIGO,r})}})}),(0,s.jsx)(u,{children:(0,s.jsxs)(y.A,{name:"ATIVO",label:"Ativo",variant:"standard",style:{width:"6rem"},select:!0,slotProps:{input:{disableUnderline:!0}},value:a?.ATIVO||"",onChange:e=>{i(t=>{let r={...t};return e.target.value?r.ATIVO=e.target.value:delete r.ATIVO,r})},children:[(0,s.jsx)(j.A,{value:"",children:"Ambos"},"none"),(0,s.jsx)(j.A,{value:"SIM",children:"Sim"},"SIM"),(0,s.jsx)(j.A,{value:"NAO",children:"N\xe3o"},"NAO")]})}),(0,s.jsx)(u,{children:(0,s.jsx)(y.A,{label:"Nome",variant:"standard",value:a?.NOME||"",slotProps:{input:{disableUnderline:!0}},onChange:e=>i(t=>{let r={...t};return e.target.value?r.NOME=e.target.value:delete r.NOME,r})})}),(0,s.jsx)(u,{children:(0,s.jsx)(y.A,{label:"E-Mail",variant:"standard",slotProps:{input:{disableUnderline:!0}},value:a?.EMAIL||"",onChange:e=>i(t=>{let r={...t};return e.target.value?r.EMAIL=e.target.value:delete r.EMAIL,r})})}),(0,s.jsx)(u,{children:(0,s.jsx)(y.A,{label:"Setor",variant:"standard",value:a?.SETOR||"",slotProps:{input:{disableUnderline:!0}},onChange:e=>i(t=>{let r={...t};return e.target.value?r.SETOR=e.target.value:delete r.SETOR,r})})}),(0,s.jsx)(u,{children:(0,s.jsx)("button",{onClick:function(){e(!0),w.A.getUsers({...a,perPage:o,page:"1"}).then(s=>{n(s.data),t(s.page.current),r(s.page.totalRows),e(!1)})},children:(0,s.jsx)(C.A,{})})})]})})}function D(){let[e,t]=(0,g.useState)([]),{token:r}=(0,g.useContext)(v.c),[n,o]=(0,g.useState)(0),[a,i]=(0,g.useState)(),[d,p]=(0,g.useState)("10"),[b,y]=(0,g.useState)(),[j,C]=(0,g.useState)(!0),[D,N]=(0,g.useState)(!0),O=(0,g.useMemo)(()=>e&&e.length>0&&!j?(0,s.jsx)(m.A,{children:e.map(e=>(0,s.jsx)(h,{User:e},`${e.NOME}_${e.CODIGO}`))}):(0,s.jsx)(m.A,{children:(0,s.jsx)(c,{className:"h-32 w-full",children:(0,s.jsx)(u,{colSpan:8,className:"flex items-center justify-center text-center text-gray-400",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(x.A,{}),(0,s.jsx)("span",{className:"mt-2",children:"Carregando operadores..."})]})})})}),[e,n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"mx-auto max-h-[75vh] overflow-auto rounded-md bg-indigo-700 bg-opacity-5 shadow-md",children:(0,s.jsxs)(A.A,{className:"max-h-[100%] overflow-auto",children:[(0,s.jsx)(P,{rowsPerPage:d,setLoading:C,setPage:o,setTotalPages:i,setUsers:t,filters:b,setFilters:y}),O]})}),!D&&(0,s.jsx)("div",{className:"flex h-fit w-full justify-center gap-4 px-4 pt-0",children:(0,s.jsx)(l.A,{component:"div",count:(a??1)*+d,page:n-1,rowsPerPage:+d,rowsPerPageOptions:[10,25,50],labelRowsPerPage:"Entradas por p\xe1gina",labelDisplayedRows:({from:e,to:t,count:r})=>`${e}-${t} de ${r}`,onRowsPerPageChange:e=>{p(e.target.value),o(1),C(!0),w.A.getUsers({...b,perPage:e.target.value}).then(e=>{t(e.data),o(e.page.current),i(e.page.totalRows),C(!1)})},onPageChange:(e,r)=>{var s;return s=r+1>n,void(C(!0),s?w.A.getUsers({...b,page:`${n+1}`,perPage:d}).then(e=>{t(e.data),o(e.page.current),i(e.page.totalRows),C(!1)}):w.A.getUsers({...b,page:`${n-1}`,perPage:d}).then(e=>{t(e.data),o(e.page.current),i(e.page.totalRows),C(!1)}))}})})]})}},34631:e=>{"use strict";e.exports=require("tls")},41896:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(23428),n=r(60687);let o=(0,s.A)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},42176:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\infotec\\\\inpulse\\\\inpulse-frontend\\\\src\\\\app\\\\(private)\\\\[instance]\\\\monitor\\\\users\\\\(table)\\\\table.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\users\\(table)\\table.tsx","default")},48161:e=>{"use strict";e.exports=require("node:os")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67587:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\infotec\\\\inpulse\\\\inpulse-frontend\\\\src\\\\app\\\\(private)\\\\[instance]\\\\monitor\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\monitor\\layout.tsx","default")},71802:(e,t,r)=>{Promise.resolve().then(r.bind(r,34196))},73528:(e,t,r)=>{"use strict";r.d(t,{Yc:()=>d,oM:()=>u});var s=r(13555),n=r(87980),o=r(13330),a=r(76897),i=r(39513),l=r(13942);let d=(0,s.Ay)(n.A)(({theme:e})=>({[`&.${o.A.head}`]:{color:e.palette.text.primary},borderBottom:"none",[`&.${o.A.body}`]:{fontSize:14,color:e.palette.text.primary}})),u=(0,s.Ay)(a.A)(()=>({"&:nth-of-type(even)":{backgroundColor:"rgba(99, 102, 241, 0.05)"},"&:last-child td, &:last-child th":{border:0}}));(0,s.Ay)(i.A)(({theme:e})=>({[`& .${l.A.root}`]:{color:e.palette.text.primary,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary},"&:hover":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary}}}))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},81956:(e,t,r)=>{Promise.resolve().then(r.bind(r,67587))},82418:(e,t,r)=>{Promise.resolve().then(r.bind(r,42176))},83997:e=>{"use strict";e.exports=require("tty")},89443:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(37413),n=r(42176);async function o(){return(0,s.jsx)("div",{className:"mx-auto box-border grid grid-cols-[80rem] grid-rows-[max-content_1fr] gap-y-8 px-4 py-8",children:(0,s.jsx)(n.default,{})})}},91433:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var s=r(43210),n=r(49384),o=r(99282),a=r(67413),i=r(13555),l=r(84754),d=r(4144),u=r(82816);function c(e){return(0,u.Ay)("MuiTableBody",e)}(0,d.A)("MuiTableBody",["root"]);var p=r(60687);let h=e=>{let{classes:t}=e;return(0,o.A)({root:["root"]},c,t)},m=(0,i.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),x={variant:"body"},f="tbody",A=s.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiTableBody"}),{className:s,component:o=f,...i}=r,d={...r,component:o},u=h(d);return(0,p.jsx)(a.A.Provider,{value:x,children:(0,p.jsx)(m,{className:(0,n.A)(u.root,s),as:o,ref:t,role:o===f?null:"rowgroup",ownerState:d,...i})})})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95460:(e,t,r)=>{Promise.resolve().then(r.bind(r,27017))}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[828,700,879,630,632,722,221],()=>r(16692));module.exports=s})();