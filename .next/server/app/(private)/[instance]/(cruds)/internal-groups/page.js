(()=>{var e={};e.id=277,e.ids=[277],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4051:(e,r,t)=>{Promise.resolve().then(t.bind(t,88305))},6441:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(23428),a=t(60687);let o=(0,s.A)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},7066:e=>{"use strict";e.exports=require("node:tty")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36012:(e,r,t)=>{Promise.resolve().then(t.bind(t,75560))},38348:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=t(65239),a=t(48088),o=t(88170),l=t.n(o),n=t(30893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let c={children:["",{children:["(private)",{children:["[instance]",{children:["(cruds)",{children:["internal-groups",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43293)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\(cruds)\\internal-groups\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,62886)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\(cruds)\\internal-groups\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,26398)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\(cruds)\\internal-groups\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(private)/[instance]/(cruds)/internal-groups/page",pathname:"/[instance]/internal-groups",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43293:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\infotec\\\\inpulse\\\\inpulse-frontend\\\\src\\\\app\\\\(private)\\\\[instance]\\\\(cruds)\\\\internal-groups\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\(cruds)\\internal-groups\\page.tsx","default")},43323:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(23428),a=t(60687);let o=(0,s.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},43963:(e,r,t)=>{Promise.resolve().then(t.bind(t,43293))},45065:(e,r,t)=>{"use strict";t.d(r,{Yc:()=>c,oM:()=>d});var s=t(13555),a=t(87980),o=t(13330),l=t(76897),n=t(39513),i=t(13942);let c=(0,s.Ay)(a.A)(({theme:e})=>({border:"none",[`&.${o.A.head}`]:{color:"dark"===e.palette.mode?e.palette.common.white:e.palette.text.primary,backgroundColor:"dark"===e.palette.mode?"transparent":e.palette.grey[100],fontWeight:"bold"},[`&.${o.A.body}`]:{fontSize:14,color:"dark"===e.palette.mode?e.palette.common.white:e.palette.text.primary}})),d=(0,s.Ay)(l.A)(({theme:e})=>({"&:nth-of-type(even)":{backgroundColor:"dark"===e.palette.mode?"rgba(67, 56, 202, 0.05)":e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));(0,s.Ay)(n.A)(({theme:e})=>({[`& .${i.A.root}`]:{color:"dark"===e.palette.mode?e.palette.common.white:e.palette.text.primary,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.common.white},"&:hover":{backgroundColor:e.palette.primary.dark,color:e.palette.common.white}}}))},48161:e=>{"use strict";e.exports=require("node:os")},49164:(e,r,t)=>{Promise.resolve().then(t.bind(t,62886))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59778:(e,r,t)=>{"use strict";t.d(r,{A:()=>d,e:()=>c});var s=t(60687),a=t(43210),o=t(97015),l=t(30601);t(51060),t(52171);var n=t(93853);let i=(0,a.createContext)({}),c=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useWhatsappContext must be used within a WhatsappProvider");return e};function d({children:e}){let{token:r}=(0,a.useContext)(l.c),{internalApi:t}=(0,a.useContext)(o.xI),[c,d]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),x=async(e,r)=>{if(t.current){let s=await t.current.updateInternalGroup(e,r);d(r=>r.map(r=>r.id===e?s:r))}},h=async(e,r)=>{if(t.current)try{let s=await t.current.updateInternalGroupImage(e,r);d(r=>r.map(r=>r.id===e?{...r,groupImageFileId:s.groupImageFileId}:r)),n.oR.success("Imagem do grupo atualizada com sucesso!")}catch(e){console.error("Error updating internal group image",e),n.oR.error("Erro ao atualizar imagem do grupo")}},m=async e=>{if(t.current)try{let r=await t.current.createInternalChat(e.participants,!0,e.name,e.groupId,e.groupImage);console.log("created",r),n.oR.success("Grupo criado com sucesso!"),d(e=>[r,...e])}catch(e){console.error("Error creating internal group",e),n.oR.error("Erro ao criar grupo")}},f=async e=>{if(t.current)try{await t.current.deleteInternalChat(e),n.oR.success("Grupo deletado com sucesso!"),d(r=>r.filter(r=>r.id!==e))}catch(e){n.oR.error("Erro ao deletar grupo")}};return(0,s.jsx)(i.Provider,{value:{internalGroups:c,wppGroups:p,updateInternalGroup:x,createInternalGroup:m,deleteInternalGroup:f,updateInternalGroupImage:h},children:e})}},62886:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\infotec\\\\inpulse\\\\inpulse-frontend\\\\src\\\\app\\\\(private)\\\\[instance]\\\\(cruds)\\\\internal-groups\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\infotec\\inpulse\\inpulse-frontend\\src\\app\\(private)\\[instance]\\(cruds)\\internal-groups\\layout.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63952:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=new(t(89193)).FilesClient("http://localhost:8003")},71411:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(23428),a=t(60687);let o=(0,s.A)((0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image")},73528:(e,r,t)=>{"use strict";t.d(r,{Yc:()=>c,oM:()=>d});var s=t(13555),a=t(87980),o=t(13330),l=t(76897),n=t(39513),i=t(13942);let c=(0,s.Ay)(a.A)(({theme:e})=>({[`&.${o.A.head}`]:{color:e.palette.text.primary},borderBottom:"none",[`&.${o.A.body}`]:{fontSize:14,color:e.palette.text.primary}})),d=(0,s.Ay)(l.A)(()=>({"&:nth-of-type(even)":{backgroundColor:"rgba(99, 102, 241, 0.05)"},"&:last-child td, &:last-child th":{border:0}}));(0,s.Ay)(n.A)(({theme:e})=>({[`& .${i.A.root}`]:{color:e.palette.text.primary,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary},"&:hover":{backgroundColor:e.palette.primary.main,color:e.palette.text.primary}}}))},74075:e=>{"use strict";e.exports=require("zlib")},75560:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(60687),a=t(59778);function o({children:e}){return(0,s.jsx)(a.A,{children:e})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88305:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>G});var s=t(60687),a=t(43210),o=t(59778),l=t(97015),n=t(44366),i=t(98577),c=t(86562),d=t(30076),p=t(91433),u=t(83685),x=t(16184),h=t(6441),m=t(12039),f=t(60997),g=t(86472),v=t(45525),b=t(17181),j=t(93010),w=t(23428);let y=(0,w.A)((0,s.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),A=(0,w.A)((0,s.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonRemove");var N=t(93853),C=t(71411);t(63952);var k=t(51918);function I({group:e,wppGroups:r,onSubmit:t,onSubmitImage:o}){let{closeModal:n}=(0,m.Us)(),{users:i}=(0,a.useContext)(l.xI),{contacts:c}=(0,a.useContext)(k.Jj),[d,p]=(0,a.useState)(e.groupName),[h,w]=(0,a.useState)(null),[I,P]=(0,a.useState)(r.find(r=>r.id.user===e.wppGroupId)||null),M=(0,a.useMemo)(()=>{let e=new Map;return i.forEach(r=>{let t=r.CODIGO,s=`user-${t}`;console.log(r.NOME+t),e.set(s,{name:r.NOME,phone:t.toString(),userId:t})}),c.forEach(r=>{let t=`phone-${r.phone}`;e.has(t)||e.set(t,{name:r.name,phone:r.phone,userId:+r.phone})}),Array.from(e.values())},[i,c]),[S,q]=(0,a.useState)([]),R=(0,a.useMemo)(()=>M.filter(e=>!S.some(r=>r.phone===e.phone)),[M,S]),z=(0,a.useRef)(null),G=(0,a.useRef)(null),[D,E]=(0,a.useState)(null),O=async()=>{d&&0!==S.length&&(await t(e.id,{name:d,participants:S.map(e=>e.userId??(e.phone?+e.phone:0)),wppGroupId:I?.id.user||null}),z.current&&await o(e.id,z.current),N.oR.success("Grupo atualizado com sucesso!"),n())},Y=e=>()=>{q(r=>r.filter(r=>r.phone!==e))};return(0,s.jsx)("div",{onDrop:e=>{e.preventDefault(),e.stopPropagation();let r=e.dataTransfer.files[0];if(r&&r.type.startsWith("image/")){z.current=r;let e=new FileReader;e.onload=e=>E(e.target?.result),e.readAsDataURL(r)}},onDragOver:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 bg-white px-[2rem] py-[1rem] dark:bg-slate-800   max-w-2xl w-full max-h-[90vh] overflow-auto rounded-md shadow-lg",children:[(0,s.jsx)("div",{className:"border-b border-black/10 pb-2 dark:border-white/20",children:(0,s.jsx)("header",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:"Editar Grupo"})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"h-32 w-32 overflow-hidden rounded-md border border-white/20 hover:border-white hover:bg-indigo-500/10",onClick:()=>G.current?.click(),children:D?(0,s.jsx)("img",{src:D,alt:"Preview",className:"h-full w-full rounded-md border border-slate-600 object-cover"}):(0,s.jsx)(C.A,{className:"text-gray-800 dark:text-white",fontSize:"large"})}),(0,s.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:e=>{let r=e.target.files?.[0]||null;if(z.current=r,r){let e=new FileReader;e.onload=e=>E(e.target?.result),e.readAsDataURL(r)}else E(null)},ref:G})]}),(0,s.jsxs)("div",{className:"flex w-full flex-col items-center gap-4",children:[(0,s.jsx)(f.A,{label:"Nome",value:d,onChange:e=>p(e.target.value),className:"w-full"}),(0,s.jsx)(g.A,{options:r,getOptionLabel:e=>e.name,getOptionKey:e=>e.id.user,className:"w-full scrollbar-whatsapp",renderInput:e=>(0,s.jsx)(f.A,{...e,label:"Vincular Grupo"}),value:I,onChange:(e,r)=>P(r)})]})]}),(0,s.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(g.A,{options:R,getOptionLabel:e=>`${e.phone?e.phone.padStart(2,"0"):""} - ${e.name}`,className:"w-96",value:h,renderInput:e=>(0,s.jsx)(f.A,{...e,label:"Adicionar integrante"}),onChange:(e,r)=>w(r)}),(0,s.jsx)(u.A,{color:"success",className:"w-max",onClick:()=>{h&&!S.some(e=>e.phone===h.phone)&&(q(e=>[h,...e]),w(null))},children:(0,s.jsx)(y,{fontSize:"large"})})]}),(0,s.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col rounded border-[1px] border-slate-600 p-2",children:[(0,s.jsx)("h1",{className:"border-b border-slate-200/25 p-2",children:"Integrantes"}),(0,s.jsx)("div",{className:"mt-2 min-h-0 flex-1 scrollbar-whatsapp px-2",children:(0,s.jsx)(v.A,{dense:!0,sx:{flexGrow:1,overflowY:"auto"},children:S.map(e=>(0,s.jsxs)(b.Ay,{divider:!0,children:[(0,s.jsx)(j.A,{primary:e.name,secondary:`ID: ${e.phone}`}),(0,s.jsx)(u.A,{color:"error",size:"small",onClick:Y(e.phone??""),children:(0,s.jsx)(A,{})})]},e.phone))})})]}),(0,s.jsxs)("div",{className:"flex w-full flex-row justify-end gap-4 pt-4",children:[(0,s.jsx)(x.A,{color:"error",onClick:n,children:"Cancelar"}),(0,s.jsx)(x.A,{onClick:O,variant:"contained",disabled:!d||!S.length,children:"Salvar"})]})]})]})})}var P=t(43323);function M({groupId:e,groupName:r,deleteGroup:t}){let{closeModal:a}=(0,m.Us)(),o=async()=>{t(e),a()};return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 px-8 py-6 rounded-2xl bg-white text-black dark:bg-slate-800 dark:text-white shadow-xl",children:[(0,s.jsx)("header",{className:"text-2xl font-semibold border-b border-slate-300 dark:border-slate-600 pb-2",children:"Deletar Grupo"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("h1",{className:"text-lg font-medium",children:["Tem certeza que deseja excluir o grupo ",(0,s.jsxs)("span",{className:"font-bold text-red-600 dark:text-red-400",children:['"',r,'"']}),"?"]}),(0,s.jsxs)("h3",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Todas as mensagens ser\xe3o ",(0,s.jsx)("span",{className:"font-semibold",children:"perdidas"})," se fizer isto!"]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)(x.A,{onClick:a,className:"border border-red-500 text-red-500 dark:text-red-400 dark:border-red-400 hover:bg-red-50 dark:hover:bg-red-900",children:"Cancelar"}),(0,s.jsx)(x.A,{onClick:o,variant:"contained",className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-500 dark:hover:bg-red-600",children:"Deletar"})]})]})})}function S({onSubmit:e,wppGroups:r}){let{closeModal:t}=(0,m.Us)(),{users:o}=(0,a.useContext)(l.xI),{contacts:n}=(0,a.useContext)(k.Jj),[i,c]=(0,a.useState)(""),[d,p]=(0,a.useState)([]),[h,w]=(0,a.useState)(null),[I,P]=(0,a.useState)(null),[M,S]=(0,a.useState)(null),q=(0,a.useRef)(null),R=(0,a.useRef)(null),z=(0,a.useMemo)(()=>{let e=new Map;return o.forEach(r=>{let t=r.CODIGO,s=`user-${t}`;console.log("usuarios grupos",t),e.set(s,{name:r.NOME,phone:t.toString(),userId:t})}),n.forEach(r=>{let t=`phone-${r.phone}`;e.has(t)||e.set(t,{name:r.name,phone:r.phone,userId:+r.phone})}),Array.from(e.values())},[o,n]),G=(0,a.useMemo)(()=>z.filter(e=>!d.some(r=>r.userId&&r.userId===e.userId||r.phone===e.phone)),[z,d]),D=async()=>{i&&0!==d.length&&(await e({name:i,participants:d.map(e=>String(e.userId??e.phone??"")),groupId:I?.id.user||null,groupImage:q.current}),N.oR.success("Grupo criado com sucesso!"),t())},E=e=>()=>{p(r=>r.filter(r=>String(r.userId??r.phone)!==e))};return(0,s.jsx)("div",{onDrop:e=>{e.preventDefault(),e.stopPropagation();let r=e.dataTransfer.files[0];if(r?.type.startsWith("image/")){q.current=r;let e=new FileReader;e.onload=e=>S(e.target?.result),e.readAsDataURL(r)}},onDragOver:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 bg-white px-[2rem] py-[1rem] dark:bg-slate-800   max-w-2xl w-full max-h-[90vh] overflow-auto rounded-md shadow-lg",children:[(0,s.jsx)("div",{className:"border-b border-black/10 pb-2 dark:border-white/20",children:(0,s.jsx)("header",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:"Criar novo grupo"})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"h-32 w-32 overflow-hidden rounded-md border border-white/20 hover:border-white hover:bg-indigo-500/10",onClick:()=>R.current?.click(),children:M?(0,s.jsx)("img",{src:M,alt:"Preview",className:"h-full w-full rounded-md border border-slate-600 object-cover"}):(0,s.jsx)(C.A,{className:"text-gray-800 dark:text-white",fontSize:"large"})}),(0,s.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:e=>{let r=e.target.files?.[0]||null;if(q.current=r,r){let e=new FileReader;e.onload=e=>S(e.target?.result),e.readAsDataURL(r)}else S(null)},ref:R})]}),(0,s.jsxs)("div",{className:"flex w-full flex-col items-center gap-4",children:[(0,s.jsx)(f.A,{label:"Nome",value:i,onChange:e=>c(e.target.value),className:"w-full"}),(0,s.jsx)(g.A,{options:r,getOptionLabel:e=>e.name,getOptionKey:e=>e.id.user,className:"w-full scrollbar-whatsapp",renderInput:e=>(0,s.jsx)(f.A,{...e,label:"Vincular Grupo"}),value:I,onChange:(e,r)=>P(r)})]})]}),(0,s.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(g.A,{options:G,getOptionLabel:e=>`${e.phone??"--"} - ${e.name}`,className:"w-96",value:h,renderInput:e=>(0,s.jsx)(f.A,{...e,label:"Adicionar integrante"}),onChange:(e,r)=>w(r)}),(0,s.jsx)(u.A,{color:"success",className:"w-max",onClick:()=>{h&&!d.some(e=>e.userId&&e.userId===h.userId||e.phone===h.phone)&&(p(e=>[h,...e]),w(null))},children:(0,s.jsx)(y,{fontSize:"large"})})]}),(0,s.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col rounded border-[1px] border-slate-600 p-2",children:[(0,s.jsx)("h1",{className:"border-b border-slate-200/25 p-2",children:"Integrantes"}),(0,s.jsx)("div",{className:"mt-2 min-h-0 flex-1 scrollbar-whatsapp px-2",children:(0,s.jsx)(v.A,{dense:!0,sx:{flexGrow:1,overflowY:"auto"},children:d.map(e=>(0,s.jsxs)(b.Ay,{divider:!0,children:[(0,s.jsx)(j.A,{primary:e.name,secondary:`ID: ${e.userId??e.phone}`}),(0,s.jsx)(u.A,{color:"error",size:"small",onClick:E(String(e.userId??e.phone)),children:(0,s.jsx)(A,{})})]},e.userId??e.phone))})})]}),(0,s.jsxs)("div",{className:"flex w-full flex-row justify-end gap-4 pt-4",children:[(0,s.jsx)(x.A,{color:"error",onClick:t,children:"Cancelar"}),(0,s.jsx)(x.A,{onClick:D,variant:"contained",disabled:!i||!d.length,children:"Criar"})]})]})]})})}var q=t(73528),R=t(45065);function z(){let{users:e}=(0,a.useContext)(l.xI),{openModal:r}=(0,m.Us)(),{internalGroups:t,updateInternalGroup:f,wppGroups:g,deleteInternalGroup:v,updateInternalGroupImage:b,createInternalGroup:j}=(0,o.e)(),w=e=>()=>{r((0,s.jsx)(I,{onSubmit:f,onSubmitImage:b,group:e,wppGroups:g}))},y=e=>()=>{r((0,s.jsx)(M,{groupId:e.id,groupName:e.groupName||"",deleteGroup:v}))};return(0,s.jsxs)("div",{className:"relative flex h-[calc(80vh)] flex-col",children:[(0,s.jsx)(i.A,{className:"mx-auto w-max scrollbar-whatsapp dark:bg-indigo-900/10 text-black dark:text-white",children:(0,s.jsxs)(c.A,{className:"max-h-[100%] overflow-auto scrollbar-whatsapp",children:[(0,s.jsx)(d.A,{children:(0,s.jsxs)(q.oM,{className:"sticky top-0 z-10 rounded-md text-gray-600 bg-white dark:bg-indigo-900",children:[(0,s.jsx)(R.Yc,{children:"id"}),(0,s.jsx)(R.Yc,{className:"w-64 px-2 py-6 text-left text-lg",children:"Nome do grupo"}),(0,s.jsx)(R.Yc,{className:"w-64 px-2 py-6 text-left text-lg",children:"Iniciado em"}),(0,s.jsx)(R.Yc,{className:"w-64 px-2 py-6 text-left text-lg",children:"Criado por"}),(0,s.jsx)(R.Yc,{className:"w-32 px-2 py-6 text-left text-lg",children:"Participantes"}),(0,s.jsx)(R.Yc,{className:"w-24 px-2 py-6 pr-16 text-left text-lg"})]})}),(0,s.jsx)(p.A,{className:"py-2",children:t.map(r=>(0,s.jsxs)(q.oM,{className:"even:bg-indigo-700/5",children:[(0,s.jsx)(R.Yc,{className:"w-32 truncate px-2 py-6 pl-16 text-lg",children:r.id}),(0,s.jsx)(R.Yc,{className:"w-72 truncate px-2 py-6 text-lg",children:r.groupName}),(0,s.jsx)(R.Yc,{className:"w-72 truncate px-2 py-6 text-lg",children:n.Formatter.date(r.startedAt)}),(0,s.jsx)(R.Yc,{className:"w-72 truncate px-2 py-6 text-lg",children:function(e,r){let t=e.find(e=>e.CODIGO===r);return t?t.NOME:"Desconhecido"}(e,r.creatorId||-3)}),(0,s.jsx)(R.Yc,{className:"w-32 truncate px-2 py-6 text-lg",children:r.participants.length}),(0,s.jsxs)(R.Yc,{className:"w-24 truncate px-2 py-6 pr-16 text-lg",children:[(0,s.jsx)(u.A,{onClick:w(r),children:(0,s.jsx)(h.A,{})}),(0,s.jsx)(u.A,{onClick:y(r),children:(0,s.jsx)(P.A,{})})]})]},r.id))})]})}),(0,s.jsx)("div",{className:"sticky bottom-0 flex self-end pb-2 pt-4",children:(0,s.jsx)(x.A,{variant:"outlined",size:"large",onClick:()=>{r((0,s.jsx)(S,{onSubmit:async e=>{await j({...e,participants:e.participants.map(e=>Number(e))})},wppGroups:g}))},children:"Cadastrar"})})]})}function G(){return(0,s.jsx)("div",{className:"flex flex-col px-10 pt-5 w-screen h-screen box-border relative bg-white text-black dark:bg-gray-900 dark:text-white",children:(0,s.jsx)(z,{})})}},91433:(e,r,t)=>{"use strict";t.d(r,{A:()=>g});var s=t(43210),a=t(49384),o=t(99282),l=t(67413),n=t(13555),i=t(84754),c=t(4144),d=t(82816);function p(e){return(0,d.Ay)("MuiTableBody",e)}(0,c.A)("MuiTableBody",["root"]);var u=t(60687);let x=e=>{let{classes:r}=e;return(0,o.A)({root:["root"]},p,r)},h=(0,n.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-row-group"}),m={variant:"body"},f="tbody",g=s.forwardRef(function(e,r){let t=(0,i.b)({props:e,name:"MuiTableBody"}),{className:s,component:o=f,...n}=t,c={...t,component:o},d=x(c);return(0,u.jsx)(l.A.Provider,{value:m,children:(0,u.jsx)(h,{className:(0,a.A)(d.root,s),as:o,ref:r,role:o===f?null:"rowgroup",ownerState:c,...n})})})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[828,700,879,630,632,722,472,221],()=>t(38348));module.exports=s})();